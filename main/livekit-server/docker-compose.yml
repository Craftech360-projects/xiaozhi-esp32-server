version: '3.8'

services:
  livekit-server:
    image: livekit/livekit-server:latest
    container_name: livekit-server
    restart: unless-stopped
    ports:
      - "7880-7882:7880-7882/tcp"
      - "50000-50200:50000-50200/udp"
    volumes:
      - ./livekit.yaml:/livekit.yaml:ro
    command: --config /livekit.yaml
    environment:
      LIVEKIT_KEYS: "devkey: secret"
      REDIS_URL: "redis://:redispassword@manager-api-redis:6379"
    networks:
      - manager-api_manager-api-network

networks:
  # Use existing manager-api network
  manager-api_manager-api-network:
    external: true